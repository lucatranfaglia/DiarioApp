<div class="row">
    <div class="offset-md-3 col-md-6">
        <h1>
            Inserisci un nuovo Istituto
        </h1>

        
        <form action="/user/istituto/new" method="post" onsubmit="userIstitutoNew(this); return false;">

            <div class="form-group">
                <label for="istituto">Nome Istituto</label>
                <input type="text" class="form-control" id="istituto" name="istituto" placeholder="Inserisci nome istituto" minlength="3" required >
            </div>

            <div class="form-group">
                <label for="citta">Citt√†</label>
                <input type="text" class="form-control" id="citta" name="citta" placeholder="Inserisci citta" minlength="3" required >
                
            </div> 
            <div class="form-group text-center">
                <button type="submit" class="btn btn-primary">
                    Aggiungi
                </button>                        
                
            </div>
        </form>
    </div>
</div>

<script type="text/javascript">

    // parametro: form
    async function userIstitutoNew(formTag){        
        try{
            console.log("formTag: ", formTag);
            const res = await axios.post('/user/istituto/new', 
            {
                istituto: formTag.istituto.value,
                citta:formTag.citta.value,
                
            });

            console.log("res: ",res.data)
            Swal.fire({
                type: "success",
                text: "User successfully istituto",
                icon:'success'
            })
            .then(()=>{
                location.href='/';
            })
        }
        catch(error){
            console.log("res: ",error)
            // SweerAlert2
            Swal.fire({
                title: "Error",
                text: error,
                icon:'error'
            })
        }
    }

</script>